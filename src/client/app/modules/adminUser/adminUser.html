<div class="container">
	<div class="page-header">
		<h1>Welcome Back, {{vm.user.firstName}}!</h1>
	</div>

	<div class="row">
		<div class="col-sm-12">
		<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
				<div class="panel panel-primary" ng-repeat="family in vm.families" value="{{family._id}}">
				  <div class="panel-heading" role="tab" id="heading{{$index}}">
					<h1 class="panel-title"> 
						{{family.familyName}}
					</h1>
					  
				</div>
				<div class="panel-body" id="panel{{$index}}">
						<div>
							<h5>{{family.address}}</h5>
							<h5>{{family.city}}, {{family.state}}, {{family.country}}</h5>
							<h5>{{family.phone}}</h5>
						</div>
						<button type="button" class="btn btn-primary" data-toggle="collapse" data-parent="#accordion" href="#collapse{{$index}}" aria-expanded="true" aria-controls="collapse{{$index}}" ng-click="vm.getFamilyDetails(family._id)">
								Get Details
						</button>
				</div>
				  <div id="collapse{{$index}}" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="heading{{$index}}">
					
							<div ng-if="vm.familyMembers.length <= 0" class="alert alert-info margin-bottom0" role="alert">
									No members available.
							</div>
									
							<div class="table-responsive teststatus-table" ng-if="vm.familyMembers.length > 0">
									<table class="table">
										<thead>
										<tr>
											<th>First Name</th>
											<th>Last Name</th>
											<th>Status</th>
											<th></th>
										</tr>
										</thead>
										<tbody>
										<tr ng-repeat="familyMember in vm.familyMembers">
											<td>{{familyMember.name}}</td>
											<td>{{familyMember.address}}</td>
										</tr>
										</tbody>
									</table>
								</div>
					
				  </div>
				</div>
			  </div>
		</div>
	</div> 
</div>
